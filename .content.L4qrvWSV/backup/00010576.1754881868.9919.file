var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(function ThreadForm(d,f){d.EventManager.addListener(document.getElementById("threadModeratorControls"),"change",function(i){var g=document.getElementById("threadModeratorControls"),h=g.value.substring(g.value.indexOf("_")+1).split("?");d.Action.execute(h.shift(),d.StringUtility.getObjectFromQueryString(h.join("?")));g.selectedIndex=0});var e={type:"thread",formElement:document.getElementById("threadFormElement"),formDiv:document.getElementById("threadFormDiv"),quoteRow:document.getElementById("quoteRow"),tagRow:document.getElementById("tagRow"),subjectField:document.getElementById("threadFormSubject"),bodyField:document.getElementById("threadFormBody"),quoteField:document.getElementById("threadFormQuote"),tagField:document.getElementById("threadFormTag"),forumField:document.getElementById("threadFormForum"),subjectError:document.getElementById("subjectError"),bodyError:document.getElementById("bodyError"),bodyTooLongError:document.getElementById("bodyTooLongError"),tagError:document.getElementById("tagError"),threadAsSpan:document.getElementById("threadAsSpan"),addThreadButton:document.getElementById("addThreadButton"),closeThreadButton:document.getElementById("closeThreadButton"),idNode:document.getElementById("itemId"),notifyMeCbx:document.getElementById("notifyMeCbx"),threadFormSubmitButton:document.getElementById("threadFormSubmitButton"),hostDiv:null,placementDiv:null,isTagsPosted:false,isAccountThread:((PAGE_URI.indexOf("/account/")!=-1)||(DISPLAY_TYPE=="accountThreads"))};e.validateLength=function(k,l,h,j){var m,g=2000;function i(n){return d.StringUtility.newlinesToHTML(d.StringUtility.encodeHTML(n.value.replace(/^\s+|\s+$/g,""))).length}while(h.lastChild){h.removeChild(h.lastChild)}m=i(k);if(j&&m<3){h.innerHTML="Please enter some text (at least 3 characters).";return false}if(l){m+=i(l)}if(m>g){h.innerHTML="You have entered <b>"+m+"</b> characters. The limit is <b>"+g+"</b>.";if(l&&l.value.length>k.value.length){l.style.backgroundColor="#fee";setTimeout(function(){l.style.backgroundColor=""},350)}return false}return true};e.init=function(){if(!this.formDiv){return}function g(){var k=document.getElementById("threadFormForum"),j=f("#forumNameForGeneralDiscussion").text(),i=k.options[0],h=function(){f("#threadFormSubmitButton,#threadFormForum").attr("disabled",false);f("#threadFormSubject,#threadFormBody,#threadFormTag,#threadFormForum,#notifyMeCbx").unbind("focus",g)};if(i.selected&&k.value!=""){return h()}d.Action.execute("getForumList",{callback:function(l){k.disabled=true;k.options.length=0;f(l).each(function(){var n=this.name=="General Discussion";var m=k.options[k.options.length]=new Option(this.name,this.id);if(n){m.text=j;m.defaultSelected=m.selected=true}});h()}})}d.EventManager.addListener(this.formElement,"submit",function(h){d.EventManager.cancelEvent(h);if(e.validateLength(e.bodyField,null,e.bodyTooLongError,true)){return e.handlePostThread()}else{return false}});d.EventManager.addListener(this.closeThreadButton,"click",function(h){e.closeThreadForm();return false});d.EventManager.addListener(this.bodyField,"keyup",function(h){e.validateLength(d.EventManager.getEventTarget(h),e.quoteField,e.bodyTooLongError)});d.EventManager.addListener(this.quoteField,"keyup",function(h){e.validateLength(e.bodyField,d.EventManager.getEventTarget(h),e.bodyTooLongError)});f("#threadFormSubmitButton").attr("disabled",true);f("#threadFormSubject,#threadFormBody,#threadFormTag,#threadFormForum,#notifyMeCbx").bind("focus",g)};e.toggleActivators=function(j){var g=d.DOM.getElementsByClassName(document,"*","openThreadForm");for(var h=0;h<g.length;h++){g[h].style.display=j?"none":"block"}};e.openThreadForm=function(g,l,h,m){if(m){e.type=m}if(this.hostDiv){this.closeThreadForm()}e.toggleActivators(true);f("select.threadFormForum,label.threadFormForum").css("display","none");if(!g){var g=0,l=false,h=false;if(!this.isAccountThread){this.tagRow.style.display="";setTimeout(function(){e.populateTags()},100);if(global_inits["DISPLAY_TYPE"]!="threadsForum"){f("select.threadFormForum,label.threadFormForum").css("display","inline")}}document.getElementById("threadFormTitleThread").style.display="inline";document.getElementById("threadFormTitleReply").style.display="none"}else{document.getElementById("threadFormTitleThread").style.display="none";document.getElementById("threadFormTitleReply").style.display="inline"}this.hostDiv=this.placementDiv||document.getElementById("controlsNode_"+g);if(this.hostDiv&&this.hostDiv.childNodes){for(var k=0;this.hostDiv.childNodes.length>k;k++){if(this.hostDiv.childNodes[k].style){this.hostDiv.childNodes[k].style.display="none"}}}f("#threadNotification").css("visibility",(d.userProperties.IS_LOGGED_IN?"visible":"hidden"));f("#notifyMeCbx").attr("checked",!!d.userProperties.IS_LOGGED_IN);if(this.hostDiv){this.hostDiv.appendChild(this.formDiv)}this.closeThreadButton.style.display="inline";this.formElement.style.display=this.formDiv.style.display="block";if(document.getElementById("subjectNode_"+g)){var j=d.StringUtility.decodeHTML(document.getElementById("subjectNode_"+g).innerHTML);var n=d.StringUtility.decodeHTML(document.getElementById("textNode_"+g).innerHTML);j=j.replace("RE: ","");this.subjectField.value="RE: "+j;if(l){if(n.toLowerCase().indexOf("<blockquote>")!=-1){n=n.replace(n.substring(n.toLowerCase().indexOf("<blockquote>"),n.toLowerCase().indexOf("</blockquote>")+13),"")}n=d.StringUtility.newlinesToUnicode(n);n=d.StringUtility.regexpReplace(n,"<a([^>])*?>","","gi");n=d.StringUtility.regexpReplace(n,"</a>","","gi");this.quoteField.value=n;this.quoteRow.style.display=""}}setTimeout(function(){e.revealThreadForm(l)},0);return false};e.revealThreadForm=function(g){if(typeof a.close==="function"){a.close()}this.formDiv.style.display="block";if(this.hostDiv){this.hostDiv.style.display="block"}if(g){this.bodyField.focus()}else{}};e.closeThreadForm=function(){e.toggleActivators(false);if(this.hostDiv){for(var g=0;this.hostDiv.childNodes.length>g;g++){if(this.hostDiv.childNodes[g].style){this.hostDiv.childNodes[g].style.display="inline"}}this.formDiv.style.display="none";document.body.appendChild(this.formDiv);this.quoteRow.style.display="none";this.tagRow.style.display="none";this.subjectError.style.display="none";this.bodyError.style.display="none";this.tagError.style.display="none";this.subjectField.value="";this.bodyField.value="";this.quoteField.value="";this.tagField.value=""}return false};e.isFormValid=function(){var g=true;if(d.StringUtility.trim(this.subjectField.value).length<3){this.subjectError.style.display="block";g=false}else{this.subjectError.style.display="none"}if(d.StringUtility.trim(this.bodyField.value).length<3){this.bodyError.style.display="block";g=false}else{this.bodyError.style.display="none"}if(d.StringUtility.trim(this.tagField.value).length>0&&!this.isTagsValid()){this.tagError.style.display="block";g=false}else{this.tagError.style.display="none"}return g};e.isTagsValid=function(){var g=this.tagField.value.split(",");for(var h=0;h<g.length;h++){if(d.StringUtility.trim(g[h]).length>30){return false}}return true};var c;e.handlePostThread=function(){if(e&&!e.isFormValid()){return false}this.threadFormSubmitButton.disabled=true;this.threadFormSubmitButton.value="Posting...";d.Layout.startThrobber(this.threadFormSubmitButton);var p=document.getElementById("ppa_sc");var t=d.StringUtility.encodeHTML(this.bodyField.value);if(this.quoteField.value!=""){var h=d.StringUtility.encodeHTML(this.quoteField.value);t='<blockquote>"'+h+'"</blockquote>'+t}t=d.StringUtility.newlinesToHTML(t);var l="",r=global_inits["PAGE_URI"],u=global_inits["DISPLAY_TYPE"];try{if(u.indexOf("photo")==0){r=(/\/photo\/\d+/gi).exec(location.pathname)[0]}else{if(u.indexOf("video")==0){r=(/\/video\/\d+/gi).exec(location.pathname)[0]}}c=r}catch(q){if(!r){r=c}}var k=this.subjectField.value;var s=k;var m=t;var i="";var o=window.PAGE;if(o&&o.getPostXml){var g=o.getPostUri(this.idNode.value)}else{if(this.idNode){var g=d.StringUtility.formatString("/xml{0}/thread/{1}/-/post/-/-",r,encodeURIComponent(this.idNode.value));l=d.StringUtility.formatString('<thread><posts><post name="{0}"><text><![CDATA[{1}]]></text></post></posts></thread>',d.StringUtility.encodeHTML(this.subjectField.value),d.StringUtility.encodeCDATA(t))}else{var g=d.StringUtility.formatString("{0}/thread/-/-",r);i=this.forumField.value}}if(this.idNode){var j=d.RequestManager.add("action:postThread");j.setListener(function(){try{if(j.validateResponse()){var w=j.getObjectFromXML()["id"];if(p&&d.userProperties.IS_LOGGED_IN){d.CookieUtility.setCookieKeyValue("acp","ppa","1")}e.finish(w,r)}}catch(v){}});j.send(g,"POST",l)}else{(function n(w,v){f.post(g,{threadName:k,postName:s,postText:m,forumCategoryId:i,recaptcha_challenge_field:w,recaptcha_response_field:v},function(y,x){if(y["recaptcha"]){d.Action.execute("captcha",{callback:n,tryAgain:w||v,tired:true,captchaCancel:function(){e.threadFormSubmitButton.value="Post";d.Layout.stopThrobber(e.threadFormSubmitButton);e.threadFormSubmitButton.disabled=false}})}else{if(y["id"]){if(p&&d.userProperties.IS_LOGGED_IN){d.CookieUtility.setCookieKeyValue("acp","ppa","1")}e.finish(y["id"],r)}}},"json")})()}d.Logger.logMacroEvent("handlePostThread","event8");return false};e.postTags=function(i,h){var g=d.RequestManager.add("action:postTag");g.setListener(function(){try{if(g.validateResponse()){e.isTagsPosted=true;e.finish(i,h)}}catch(j){}});g.send("/xml/thread/"+i+"/-/tag/"+encodeURIComponent(this.tagField.value),"POST","<tag/>")};e.populateTags=function(){var g=f("#pageAttributes .WPC-tagList .pageTag");var h=[];g.each(function(){h.push(d.StringUtility.decodeHTML(f(this).html()))});this.tagField.value=h.join(", ")};e.finish=function(h,g){redirect=function(){if(global_inits["DISPLAY_TYPE"]=="threadsFeatured"){location.href=global_inits["WIKI_URI"]+"/thread"}else{if(global_inits["DISPLAY_TYPE"]=="threadsForums"){location.href=global_inits["WIKI_URI"]+"/thread/"+h+"/-"}else{location.replace(location.pathname)}}};if(!this.isTagsPosted&&this.tagField.value!=""){this.postTags(h,g)}else{if(this.notifyMeCbx&&this.notifyMeCbx.checked&&(e.type=="thread")){d.Action.execute("watchThread",{"threadId":h,"isNotify":this.notifyMeCbx.checked,"ignoreError":true,"after":function(){redirect()}})}else{redirect()}}};function a(q,m){var v=document.getElementById("post_details_"+m),g=v.parentNode,x=document.getElementById("subjectNode_"+m),h=document.getElementById("post_date_"+m),u=document.getElementById("textNode_"+m),l=document.getElementById("postEditor"),k=document.getElementById("editPostTooLongError"),r=document.getElementById("edit_postDate"),t=document.getElementById("edit_postSubject"),j=document.getElementById("edit_postText"),s=null,n=document.getElementById("edit_postQuote"),o=document.getElementById("edit_postSubmit"),i=document.getElementById("edit_postCancel");function w(z,y){z.style.display="none";y.style.display="block"}a.close=function(){w(l,v)};function p(A){var y=A.cloneNode(true),D,C;function z(H,F,G){var E=Math.max(1,H.value.replace(/[^\n]/g,"").length);H.rows=Math.min(Math.max(E,F),G)}function B(E){return E.replace(/<[^>]*>/gi,"")}n.value="";D=y.firstChild;while(D){C=D.nextSibling;if(D.nodeName.toUpperCase()==="BLOCKQUOTE"){s=D.cloneNode(true);y.removeChild(D);n.value=s.innerHTML.replace(/^"|"$/g,"");n.value=B(d.StringUtility.decodeHTML(d.StringUtility.newlinesToUnicode(n.value)));z(n,1,5);break}D=C}j.value=B(d.StringUtility.decodeHTML(d.StringUtility.newlinesToUnicode(y.innerHTML)));z(j,3,20)}e.closeThreadForm();t.value=d.StringUtility.decodeHTML(x.innerHTML);r.innerHTML=d.StringUtility.decodeHTML(d.StringUtility.newlinesToUnicode(h.innerHTML));p(u);g.appendChild(l);if(typeof i.onclick=="function"){i.onclick()}i.onclick=function(){w(l,v)};d.EventManager.addListener(j,"keyup",function(y){e.validateLength(d.EventManager.getEventTarget(y),n,k)});d.EventManager.addListener(n,"keyup",function(y){e.validateLength(j,d.EventManager.getEventTarget(y),k)});w(v,l);n.parentNode.style.display=s?"block":"none";o.onclick=function(){var z="/xml/thread/"+encodeURIComponent(q)+"/-/post/"+m+"/-";var B="",A;if(!e.validateLength(j,n.value.length>0?n:null,k,true)){return false}d.Layout.startThrobber(o);if(n.value.length){B='<blockquote>"'+d.StringUtility.newlinesToHTML(d.StringUtility.encodeHTML(n.value))+'"</blockquote>'}B+=d.StringUtility.newlinesToHTML(d.StringUtility.encodeHTML(j.value));var y=d.RequestManager.add("action:postThread");y.setListener(function(){try{if(y.validateResponse()){window.location.reload(true)}}catch(C){d.Layout.stopThrobber(o)}});y.send(z,"PUT",'<thread><posts><post id="'+encodeURIComponent(m)+'" name="'+d.StringUtility.encodeHTML(t.value)+'">'+"<text><![CDATA["+d.StringUtility.encodeCDATA(B)+"]]></text>"+"</post></posts></thread>");return false};return false}(function(){e.init();var g=global_inits["DISPLAY_TYPE"];if((g.toLowerCase().indexOf("thread")<0)&&g!="tagGroup"){setTimeout(function(){var h=document.getElementById("threadFormPlacementDivId");if(h&&h.className){e.placementDiv=document.getElementById(h.className)}d.Action.execute("openThreadForm")},100)}setTimeout(function(){var h=document.getElementById("threadSortSelect");d.EventManager.addListener(h,"change",function(i){var j=d.StringUtility.getObjectFromQueryString(location.search.replace("?",""));j["sort"]=h.value;document.location=document.location.pathname+"?"+d.StringUtility.getQueryStringFromObject(j)})},100)})();var b={start:function(g){var i="agree";var k="cr";this.vote=g["vote"];this.thread=g["thread"];this.post=g["post"];this.idSuffix="?thread="+this.thread+"&post="+this.post;this.voteHolder=document.getElementById("voteHolder"+this.idSuffix);this.agreeBtn=document.getElementById("WPC-action_rateThread"+this.idSuffix+"&vote=agree");this.disagreeBtn=document.getElementById("WPC-action_rateThread"+this.idSuffix+"&vote=disagree");this.agreeCount=document.getElementById("agreeCount"+this.idSuffix);this.totalCount=document.getElementById("totalCount"+this.idSuffix);this.voteCountHolder=document.getElementById("voteCountHolder"+this.idSuffix);this.noVoteMessage=document.getElementById("noVoteMessage"+this.idSuffix);this.uri="/xml"+PAGE_URI+"/thread/"+this.thread+"/-/post/"+this.post+"/-/rating";var j="<rating "+((this.vote==i)?"yes='1' />":"no='1' />");var h=d.RequestManager.add("threadRater-"+this.idSuffix);h.setListener(function(){try{if(h.validateResponse()){if(!parseInt(b.totalCount.innerHTML)){b.voteCountHolder.style.display="inline";b.noVoteMessage.style.display="none";b.agreeCount.innerHTML=b.totalCount.innerHTML=0}if(b.vote==i){b.agreeCount.innerHTML=parseInt(b.agreeCount.innerHTML)+1}b.totalCount.innerHTML=parseInt(b.totalCount.innerHTML)+1;var n=d.CookieUtility.getCookie(k);var o="|";var l=20;if(!n||n==""){o="";n=""}else{n=n.split(o).splice(0,l-1).join("|")}d.Layout.stopThrobber(b.voteHolder);d.CookieUtility.setCookie(k,b.post+o+n,365)}}catch(m){}});h.send(this.uri,"POST",j);this.voteHolder.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";d.Layout.startThrobber(this.voteHolder);d.Logger.logMacroEvent("threadRater")}};d.EventManager.addListener(d.Action,"openThreadForm",function(g){e.openThreadForm(g.data["postId"],g.data["isQuote"],g.data["isWatching"],g.data["type"])});d.EventManager.addListener(d.Action,"closeThreadForm",function(){if(typeof a.close=="function"){a.close()}e.closeThreadForm()});d.EventManager.addListener(d.Action,"editThreadPost",function(g){a(g.data["threadId"],g.data["postId"])});d.EventManager.addListener(d.Action,"rateThread",function(g){b.start(g.data)})})(WPC,WPC.jQuery);

}
/*
     FILE ARCHIVED ON 15:36:13 Aug 19, 2016 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:09:50 Aug 11, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.657
  exclusion.robots: 0.022
  exclusion.robots.policy: 0.01
  esindex: 0.011
  cdx.remote: 32.461
  LoadShardBlock: 327.933 (6)
  PetaboxLoader3.datanode: 328.146 (7)
  load_resource: 122.492
  PetaboxLoader3.resolve: 92.136
*/